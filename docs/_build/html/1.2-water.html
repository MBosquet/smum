

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Water &mdash; UrbanMetabolism 0.0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="UrbanMetabolism 0.0.1 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> UrbanMetabolism
          

          
            
            <img src="_static/um_logo.svg.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="0-intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-um.html">Top-Down Modules (Urban Metabolism)</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-sm.html">Bottom-Up: Synthetic Populations (Spatial Microsimulation)</a></li>
<li class="toctree-l1"><a class="reference internal" href="x-authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="x-contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UrbanMetabolism</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Water</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/1.2-water.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="water">
<h1>Water<a class="headerlink" href="#water" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/classes_waterModel.png"><img alt="_images/classes_waterModel.png" src="_images/classes_waterModel.png" style="width: 474.5px; height: 314.0px;" /></a>
<p class="caption"><span class="caption-text">Water class diagram.</span></p>
</div>
<dl class="class">
<dt id="water.WaterDemand">
<em class="property">class </em><code class="descclassname">water.</code><code class="descname">WaterDemand</code><a class="headerlink" href="#water.WaterDemand" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Water Demand Model</strong></p>
<p>This class defines the household water demand model.</p>
<p>The household demand model is computed as function of:</p>
<blockquote>
<div><ul class="simple">
<li>Demographic characteristics of the household.</li>
<li>Disposable income of the household.</li>
<li>Average water price in the city.</li>
<li>Water saving penetration rate (SP) Yuan, X.-C. et al. (2014).</li>
<li>Water saving rate (SR) Yuan, X.-C. et al. (2014).</li>
</ul>
</div></blockquote>
<div class="math">
\[Q^{hh}_{W,D} =
\beta_0 +
\beta_1 HH_{1} + \dots + \beta_p HH_p +
\beta_y Y +
\beta_p P +
\epsilon\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q^{hh}_{W,D}\)</span> Household water consumption.</li>
<li><span class="math">\(HH\)</span> Household characteristic.</li>
<li><span class="math">\(Y\)</span> Household income.</li>
<li><span class="math">\(P\)</span> Water price.</li>
<li><span class="math">\(\epsilon\)</span> Random error term.</li>
</ul>
</div></blockquote>
<p>Depending on the water tariff in place the variable <span class="math">\(P\)</span> can’t be
modeled as an dependent variable. If the water tariff is computes as
function of consumed volume we cannot assume error term.</p>
<p>Household characteristics:</p>
<p>Efficiency ratea:</p>
<p>The water saving penetration and water saving rate are computed at each
simulation step. The water saving rate is an indicator for governmental
actions to reduce water consumption. And the penetration rate is the
likelihood of household to have adopted the water saving behaviour or
technology.</p>
<div class="math">
\[\begin{split}Q_{W,D}^{base}(SP_{W,D}, SR_{W,D}) =
\begin{cases}
  Q_{W,D}^{hh} \times (1-SR_{W,D}) &amp; \quad \text{if } rand &lt; SP_{W,D}\\
  Q_{W,D}^{hh} &amp; \quad \text{ else}\\
\end{cases}\end{split}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q^{base}_{W,D}\)</span> Base water consumption.</li>
<li><span class="math">\(SP_{W,D}\)</span> Water saving penetration rate.</li>
<li><span class="math">\(SR_{W,D}\)</span> Water saving rate.</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="water.WaterDemand.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#water.WaterDemand.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="water.WaterFlow">
<em class="property">class </em><code class="descclassname">water.</code><code class="descname">WaterFlow</code><span class="sig-paren">(</span><em>flow_name</em>, <em>internal=False</em><span class="sig-paren">)</span><a class="headerlink" href="#water.WaterFlow" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Urban Water Flow</strong></p>
<p>This class defines the <cite>WaterFlow</cite> of a city.</p>
<p>This water flow is balanced as follows:</p>
</dd></dl>

<dl class="class">
<dt id="water.WaterStock">
<em class="property">class </em><code class="descclassname">water.</code><code class="descname">WaterStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#water.WaterStock" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Urban Water Stock</strong></p>
<p>This class defines the <cite>WaterFlow</cite> of a city.</p>
<p>This water flow is balanced as follows:</p>
<div class="math">
\[I_{W,percip} + I_{W,pipe} + I_{W,sw} + I_{W,gw} = O_{W,evap} + O_{W,out} + \Delta S_w\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(I_{W,percip}\)</span> Is natural inflow from precipitation.</li>
<li><span class="math">\(I_{W,pipe}\)</span> Is water piped into the city.</li>
<li><span class="math">\(I_{W,sw}\)</span> Is the net surface water flow into the city.</li>
<li><span class="math">\(I_{W,gw}\)</span> Is the net ground water flow into city aquifers.</li>
<li><span class="math">\(O_{W,evap}\)</span> Evapotranspiration.</li>
<li><span class="math">\(O_{W,out}\)</span> Water piped out of cities</li>
<li><span class="math">\(\Delta S_w\)</span> Change in water storage of urban agglomeration.</li>
</ul>
</div></blockquote>
<p><strong>Anthropogenic Water Use:</strong></p>
<p>The anthropogenic water consumption is computed as follows:</p>
<div class="math">
\[Q_W = Q_{W,D} + Q_{W,L}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q_{W,D}\)</span> Water demand.</li>
<li><span class="math">\(Q_{W,L}\)</span> Water losses.</li>
</ul>
</div></blockquote>
<div class="math">
\[Q_{W,D} = \sum_{hh} Q^{base}_{W,D,hh} + CDD * i^{cooling}_W\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q^{base}_{W,D}\)</span> Base water consumption.</li>
<li><span class="math">\(CDD\)</span> Cooling Degree Days.</li>
<li><span class="math">\(i^{cooling}_W\)</span> Intensity of water use for cooling.</li>
</ul>
</div></blockquote>
<div class="math">
\[Q_{W,L} + A * p_{ti} * l\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q_{W,L}\)</span> Water losses.</li>
<li><span class="math">\(A\)</span> Surface area of urban agglomeration.</li>
<li><span class="math">\(p^{ti}\)</span> Density of urban infrastructure.</li>
<li><span class="math">\(l\)</span> Annual leakage rate per length of linear infrastructure.</li>
</ul>
</div></blockquote>
<div class="math">
\[Q_{WWT} = Q_{WWE} + Q_{WWF} + Q_{INF}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q_{WWT}\)</span> Treated waste water.</li>
<li><span class="math">\(Q_{WWE}\)</span> Generated waste water.</li>
<li><span class="math">\(Q_{WWF}\)</span> Wet weather water flow.</li>
<li><span class="math">\(Q_{INF}\)</span> Base infiltration.</li>
</ul>
</div></blockquote>
<p><strong>Urban Aquifers:</strong></p>
<div class="math">
\[\Delta S_{W,gw} = \Delta Q_{W,RO} + Q_{W,ar} + \Delta I_{W,gw} - \Delta Q_{W,DO} - Q_{W,gwpump}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(\Delta S_{W,gw}\)</span> Change in ground water storage of urban agglomeration.</li>
<li><span class="math">\(\Delta Q_{W,RO}\)</span> Change in natural recharge from virgin conditions.</li>
<li><span class="math">\(Q_{W,ar}\)</span> Net anthropogenic urban water recharge rate.</li>
<li><span class="math">\(\Delta I_{W,gw}\)</span> Net change on ground-water inflow.</li>
<li><span class="math">\(\Delta Q_{W,DO}\)</span> Change in natural discharge from virgin conditions.</li>
<li><span class="math">\(Q_{W,gwpump}\)</span> Net pump rate of urban agglomeration.</li>
</ul>
</div></blockquote>
<p><strong>Internal Renewable Water Resources (IRWR)</strong></p>
<div class="math">
\[IRWR = S_{W,sw} + S_{W,gw} - S_{W,overlap}\]</div>
<p><strong>External Renewable Water Resources (ERWR)</strong></p>
<div class="math">
\[ERWR = I_{W,sw} - O_{W,sw} + I_{W,gw} - O_{W,gw}\]</div>
<p><strong>Total Renewable Water Resources (TRWR)</strong></p>
<div class="math">
\[TRWR = (S_{W,sw} + I_{W,sw} - O_{W,sw}) + (S_{W,gw} + I_{W,gw} - O_{W,gw}) - S_{W,overlap}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(S_{W,sw}\)</span> Surface water, produced internally.</li>
<li><span class="math">\(S_{W,gw}\)</span> Groudwater, produced internally.</li>
<li><span class="math">\(S_{W,overlap}\)</span> Overlap between surface water and groundwater.</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="water.WaterStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#water.WaterStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Class initiator.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 M. Esteban Munoz H..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>