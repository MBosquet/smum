

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Top-Down Modules (Urban Metabolism) &mdash; UrbanMetabolism 0.0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="UrbanMetabolism 0.0.1 documentation" href="index.html"/>
        <link rel="next" title="Bottom-Up: Synthetic Populations (Spatial Microsimulation)" href="2-sm.html"/>
        <link rel="prev" title="Introduction" href="0-intro.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> UrbanMetabolism
          

          
            
            <img src="_static/um_logo.svg.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0-intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Top-Down Modules (Urban Metabolism)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#city">City</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materials">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#water">Water</a></li>
<li class="toctree-l2"><a class="reference internal" href="#energy">Energy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#food">Food</a></li>
<li class="toctree-l2"><a class="reference internal" href="#waste">Waste</a></li>
<li class="toctree-l2"><a class="reference internal" href="#land">Land</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2-sm.html">Bottom-Up: Synthetic Populations (Spatial Microsimulation)</a></li>
<li class="toctree-l1"><a class="reference internal" href="x-authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="x-contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UrbanMetabolism</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Top-Down Modules (Urban Metabolism)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/1-um.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="top-down-modules-urban-metabolism">
<h1>Top-Down Modules (Urban Metabolism)<a class="headerlink" href="#top-down-modules-urban-metabolism" title="Permalink to this headline">¶</a></h1>
<div class="section" id="city">
<h2>City<a class="headerlink" href="#city" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/classes_cityModel.png"><img alt="_images/classes_cityModel.png" src="_images/classes_cityModel.png" style="width: 258.5px; height: 163.5px;" /></a>
<p class="caption"><span class="caption-text">City class diagram.</span></p>
</div>
<dl class="class">
<dt id="city.City">
<em class="property">class </em><code class="descclassname">city.</code><code class="descname">City</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#city.City" title="Permalink to this definition">¶</a></dt>
<dd><p>City class definition.</p>
<p>Reads and process the input data required for a city level analysis.</p>
<dl class="attribute">
<dt id="City.name">
<code class="descname">name</code><a class="headerlink" href="#City.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – city name.</p>
</dd></dl>

<dl class="class">
<dt id="city.City.Data">
<em class="property">class </em><code class="descname">Data</code><a class="headerlink" href="#city.City.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct city data frames and methods of computation.</p>
<dl class="method">
<dt id="city.City.Data.addData">
<code class="descname">addData</code><span class="sig-paren">(</span><em>sheet</em>, <em>sheet_data</em><span class="sig-paren">)</span><a class="headerlink" href="#city.City.Data.addData" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a data frame to <cite>Data</cite> class.</p>
<dl class="docutils">
<dt>Adds data:</dt>
<dd><ul class="first last simple">
<li>Affluence</li>
<li>Technology</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sheet_data</strong> (<em>pandas.DataFrame</em>) – Excel file data as pandas DataFrame.</li>
<li><strong>sheet</strong> (<em>str</em>) – Excel file sheet name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="city.City.Info">
<em class="property">class </em><code class="descname">Info</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#city.City.Info" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct city initial constants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>pandas.DataFrame</em>) – City constant info data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="city.City.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#city.City.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="city.City.constructFrame">
<code class="descname">constructFrame</code><span class="sig-paren">(</span><em>xls</em><span class="sig-paren">)</span><a class="headerlink" href="#city.City.constructFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct pandas DataFrames from an excel file.</p>
<p>Reads all sheets from the <cite>xls</cite> excel file. Sheet names <cite>City</cite> calls
function <cite>Info</cite>, all the other sheet call function <cite>Data.addData</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xls</strong> (<em>pandas.io.excel.ExcelFile</em>) – Excel file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="city.City.getData">
<code class="descname">getData</code><span class="sig-paren">(</span><em>excel_file='./data/InputTables.xlsx'</em><span class="sig-paren">)</span><a class="headerlink" href="#city.City.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Get excel data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>excel_file</strong> (<em>str</em>) – Excel file containing input-tables.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="materials">
<h2>Materials<a class="headerlink" href="#materials" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/classes_materialsModel.png"><img alt="_images/classes_materialsModel.png" src="_images/classes_materialsModel.png" style="width: 359.5px; height: 314.0px;" /></a>
<p class="caption"><span class="caption-text">Materials class diagram.</span></p>
</div>
<dl class="class">
<dt id="materials.MaterialsFlow">
<em class="property">class </em><code class="descclassname">materials.</code><code class="descname">MaterialsFlow</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#materials.MaterialsFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample Flow class.</p>
<dl class="method">
<dt id="materials.MaterialsFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#materials.MaterialsFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>MaterialsFlow class initiator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>city</strong> (<em>urbanmetabolism.city.City</em>) – city object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="materials.MaterialsStock">
<em class="property">class </em><code class="descclassname">materials.</code><code class="descname">MaterialsStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#materials.MaterialsStock" title="Permalink to this definition">¶</a></dt>
<dd><p>Material Stock.</p>
<p>This class defines the existing material stock by sector.</p>
<p>All material streams are aggregated by sector.</p>
<p>A data-set will the detail material stream is generated as a <cite>csv</cite> file and
stored under the <cite>/results</cite> folder.</p>
<p>The Material Stock is computed as follows:</p>
<div class="math">
\[S_M = \sum_s \sum_m S^s_{M,m}\]</div>
<p>The total materials stock of a city is expressed as the total sum of all
type of materials <span class="math">\(m\)</span> of all urban structures <span class="math">\(s\)</span>.</p>
<div class="math">
\[S^{rb}_{M,m} = P * f^{rb} * i^{rb}_{M,m}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(S^{rb}_{M,m}\)</span> Material stock of residential buildings.</li>
<li><span class="math">\(P\)</span> Population of the urban agglomeration.</li>
<li><span class="math">\(f^{rb}\)</span> Per-capita floor space for residential buildings.</li>
<li><span class="math">\(i^{rb}_{M,m}\)</span> Material intensity per squared meter.</li>
</ul>
</div></blockquote>
<div class="math">
\[S^{ti}_{M,m} = A * p^{ti} * i^{ti}_{M,m}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(S^{ti}_{M,m}\)</span> Material amount in linear transportation infrastructure.</li>
<li><span class="math">\(A\)</span> Surface area of urban agglomeration.</li>
<li><span class="math">\(p^{ti}\)</span> Density of urban infrastructure.</li>
<li><span class="math">\(i^{ti}_{M,m}\)</span> Material intensity per kilometer of urban infrastructure.</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="MaterialsStock.affluence">
<code class="descname">affluence</code><a class="headerlink" href="#MaterialsStock.affluence" title="Permalink to this definition">¶</a></dt>
<dd><p><em>pandas.DataFrame</em> – city affluence data</p>
</dd></dl>

<dl class="attribute">
<dt id="MaterialsStock.technology">
<code class="descname">technology</code><a class="headerlink" href="#MaterialsStock.technology" title="Permalink to this definition">¶</a></dt>
<dd><p><em>pandas.DataFrame</em> – city technology data</p>
</dd></dl>

<dl class="attribute">
<dt id="MaterialsStock.data">
<code class="descname">data</code><a class="headerlink" href="#MaterialsStock.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>pandas.DataFrame</em> – city materiasl data</p>
</dd></dl>

<dl class="attribute">
<dt id="MaterialsStock.g">
<code class="descname">g</code><a class="headerlink" href="#MaterialsStock.g" title="Permalink to this definition">¶</a></dt>
<dd><p><em>pandas.DataFrame</em> – city constant values</p>
</dd></dl>

<dl class="attribute">
<dt id="MaterialsStock.storage">
<code class="descname">storage</code><a class="headerlink" href="#MaterialsStock.storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="materials.MaterialsStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#materials.MaterialsStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>MaterialsStock class initiator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>city</strong> (<em>urbanmetabolism.city.City</em>) – city object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="water">
<h2>Water<a class="headerlink" href="#water" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/classes_waterModel.png"><img alt="_images/classes_waterModel.png" src="_images/classes_waterModel.png" style="width: 474.5px; height: 314.0px;" /></a>
<p class="caption"><span class="caption-text">Water class diagram.</span></p>
</div>
<dl class="class">
<dt id="water.WaterDemand">
<em class="property">class </em><code class="descclassname">water.</code><code class="descname">WaterDemand</code><a class="headerlink" href="#water.WaterDemand" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Water Demand Model</strong></p>
<p>This class defines the household water demand model.</p>
<p>The household demand model is computed as function of:</p>
<blockquote>
<div><ul class="simple">
<li>Demographic characteristics of the household.</li>
<li>Disposable income of the household.</li>
<li>Average water price in the city.</li>
<li>Water saving penetration rate (SP) Yuan, X.-C. et al. (2014).</li>
<li>Water saving rate (SR) Yuan, X.-C. et al. (2014).</li>
</ul>
</div></blockquote>
<div class="math">
\[Q^{hh}_{W,D} =
\beta_0 +
\beta_1 HH_{1} + \dots + \beta_p HH_p +
\beta_y Y +
\beta_p P +
\epsilon\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q^{hh}_{W,D}\)</span> Household water consumption.</li>
<li><span class="math">\(HH\)</span> Household characteristic.</li>
<li><span class="math">\(Y\)</span> Household income.</li>
<li><span class="math">\(P\)</span> Water price.</li>
<li><span class="math">\(\epsilon\)</span> Random error term.</li>
</ul>
</div></blockquote>
<p>Depending on the water tariff in place the variable <span class="math">\(P\)</span> can’t be
modeled as an dependent variable. If the water tariff is computes as
function of consumed volume we cannot assume error term.</p>
<p>Household characteristics:</p>
<p>Efficiency ratea:</p>
<p>The water saving penetration and water saving rate are computed at each
simulation step. The water saving rate is an indicator for governmental
actions to reduce water consumption. And the penetration rate is the
likelihood of household to have adopted the water saving behaviour or
technology.</p>
<div class="math">
\[\begin{split}Q_{W,D}^{base}(SP_{W,D}, SR_{W,D}) =
\begin{cases}
  Q_{W,D}^{hh} \times (1-SR_{W,D}) &amp; \quad \text{if } rand &lt; SP_{W,D}\\
  Q_{W,D}^{hh} &amp; \quad \text{ else}\\
\end{cases}\end{split}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q^{base}_{W,D}\)</span> Base water consumption.</li>
<li><span class="math">\(SP_{W,D}\)</span> Water saving penetration rate.</li>
<li><span class="math">\(SR_{W,D}\)</span> Water saving rate.</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="water.WaterDemand.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#water.WaterDemand.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="water.WaterFlow">
<em class="property">class </em><code class="descclassname">water.</code><code class="descname">WaterFlow</code><span class="sig-paren">(</span><em>flow_name</em>, <em>internal=False</em><span class="sig-paren">)</span><a class="headerlink" href="#water.WaterFlow" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Urban Water Flow</strong></p>
<p>This class defines the <cite>WaterFlow</cite> of a city.</p>
<p>This water flow is balanced as follows:</p>
</dd></dl>

<dl class="class">
<dt id="water.WaterStock">
<em class="property">class </em><code class="descclassname">water.</code><code class="descname">WaterStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#water.WaterStock" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Urban Water Stock</strong></p>
<p>This class defines the <cite>WaterFlow</cite> of a city.</p>
<p>This water flow is balanced as follows:</p>
<div class="math">
\[I_{W,percip} + I_{W,pipe} + I_{W,sw} + I_{W,gw} = O_{W,evap} + O_{W,out} + \Delta S_w\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(I_{W,percip}\)</span> Is natural inflow from precipitation.</li>
<li><span class="math">\(I_{W,pipe}\)</span> Is water piped into the city.</li>
<li><span class="math">\(I_{W,sw}\)</span> Is the net surface water flow into the city.</li>
<li><span class="math">\(I_{W,gw}\)</span> Is the net ground water flow into city aquifers.</li>
<li><span class="math">\(O_{W,evap}\)</span> Evapotranspiration.</li>
<li><span class="math">\(O_{W,out}\)</span> Water piped out of cities</li>
<li><span class="math">\(\Delta S_w\)</span> Change in water storage of urban agglomeration.</li>
</ul>
</div></blockquote>
<p><strong>Anthropogenic Water Use:</strong></p>
<p>The anthropogenic water consumption is computed as follows:</p>
<div class="math">
\[Q_W = Q_{W,D} + Q_{W,L}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q_{W,D}\)</span> Water demand.</li>
<li><span class="math">\(Q_{W,L}\)</span> Water losses.</li>
</ul>
</div></blockquote>
<div class="math">
\[Q_{W,D} = \sum_{hh} Q^{base}_{W,D,hh} + CDD * i^{cooling}_W\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q^{base}_{W,D}\)</span> Base water consumption.</li>
<li><span class="math">\(CDD\)</span> Cooling Degree Days.</li>
<li><span class="math">\(i^{cooling}_W\)</span> Intensity of water use for cooling.</li>
</ul>
</div></blockquote>
<div class="math">
\[Q_{W,L} + A * p_{ti} * l\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q_{W,L}\)</span> Water losses.</li>
<li><span class="math">\(A\)</span> Surface area of urban agglomeration.</li>
<li><span class="math">\(p^{ti}\)</span> Density of urban infrastructure.</li>
<li><span class="math">\(l\)</span> Annual leakage rate per length of linear infrastructure.</li>
</ul>
</div></blockquote>
<div class="math">
\[Q_{WWT} = Q_{WWE} + Q_{WWF} + Q_{INF}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Q_{WWT}\)</span> Treated waste water.</li>
<li><span class="math">\(Q_{WWE}\)</span> Generated waste water.</li>
<li><span class="math">\(Q_{WWF}\)</span> Wet weather water flow.</li>
<li><span class="math">\(Q_{INF}\)</span> Base infiltration.</li>
</ul>
</div></blockquote>
<p><strong>Urban Aquifers:</strong></p>
<div class="math">
\[\Delta S_{W,gw} = \Delta Q_{W,RO} + Q_{W,ar} + \Delta I_{W,gw} - \Delta Q_{W,DO} - Q_{W,gwpump}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(\Delta S_{W,gw}\)</span> Change in ground water storage of urban agglomeration.</li>
<li><span class="math">\(\Delta Q_{W,RO}\)</span> Change in natural recharge from virgin conditions.</li>
<li><span class="math">\(Q_{W,ar}\)</span> Net anthropogenic urban water recharge rate.</li>
<li><span class="math">\(\Delta I_{W,gw}\)</span> Net change on ground-water inflow.</li>
<li><span class="math">\(\Delta Q_{W,DO}\)</span> Change in natural discharge from virgin conditions.</li>
<li><span class="math">\(Q_{W,gwpump}\)</span> Net pump rate of urban agglomeration.</li>
</ul>
</div></blockquote>
<p><strong>Internal Renewable Water Resources (IRWR)</strong></p>
<div class="math">
\[IRWR = S_{W,sw} + S_{W,gw} - S_{W,overlap}\]</div>
<p><strong>External Renewable Water Resources (ERWR)</strong></p>
<div class="math">
\[ERWR = I_{W,sw} - O_{W,sw} + I_{W,gw} - O_{W,gw}\]</div>
<p><strong>Total Renewable Water Resources (TRWR)</strong></p>
<div class="math">
\[TRWR = (S_{W,sw} + I_{W,sw} - O_{W,sw}) + (S_{W,gw} + I_{W,gw} - O_{W,gw}) - S_{W,overlap}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(S_{W,sw}\)</span> Surface water, produced internally.</li>
<li><span class="math">\(S_{W,gw}\)</span> Groudwater, produced internally.</li>
<li><span class="math">\(S_{W,overlap}\)</span> Overlap between surface water and groundwater.</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="water.WaterStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#water.WaterStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Class initiator.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="energy">
<h2>Energy<a class="headerlink" href="#energy" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="_images/classes_energyModel.png"><img alt="_images/classes_energyModel.png" src="_images/classes_energyModel.png" style="width: 330.5px; height: 314.0px;" /></a>
<p class="caption"><span class="caption-text">Energy class diagram.</span></p>
</div>
<dl class="class">
<dt id="energy.EnergyFlow">
<em class="property">class </em><code class="descclassname">energy.</code><code class="descname">EnergyFlow</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#energy.EnergyFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy Flow class.</p>
<div class="math">
\[I_{E} = I_{E,buildings} + I_{E,transport} + I_{E,industry} +
        I_{E,construction} + I_{E,water pumping} + I_{E,waste}\]</div>
<p>The total energy demand of a city is expressed as the total sum of all
energy sectors.</p>
<p>The total energy consumption of the building sector is computed based on
climatic conditions of the city (<span class="math">\(HDD\)</span> and <span class="math">\(CDD\)</span>) and energy
consumption intensities based on building type.</p>
<div class="math">
\[I_{E,buildings} = I_{E,heating} + I_{E,cooling} + I_{E,light-and-appl.} + I_{E,water-heating}\]</div>
<div class="math">
\[I_{E,heating} = \sum_{building-type} HDD * i_{E,heating} * P * f\]</div>
<div class="math">
\[I_{E,cooling} = \sum_{building-type} CDD * i_{E,cooling} * P * f * cp\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(HDD\)</span> Heating degree days.</li>
<li><span class="math">\(CDD\)</span> Cooling degree days.</li>
<li><span class="math">\(i_{E,cooling}\)</span> heating intensity.</li>
<li><span class="math">\(i_{E,heating}\)</span> cooling intensity.</li>
<li><span class="math">\(P\)</span> Population of the urban agglomeration.</li>
<li><span class="math">\(f\)</span> Floor space are per capita.</li>
<li><span class="math">\(cp\)</span></li>
</ul>
</div></blockquote>
<p>The total energy demand for the transport sector is computed as follows:</p>
<div class="math">
\[I_{E,transport} = I_{E,passenger} + I_{E,freight} + I_{E,aviation} + I_{E,marine}\]</div>
<p>The computation of energy demand for the passenger transportation can be
computed as follows:</p>
<div class="math">
\[I_{E,passenger} = \sum_{mode} \frac{1}{P_p} * P * \rho_i * h * \varepsilon\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(P_p\)</span> Average population density <span class="math">\([km^{-2}]\)</span>.</li>
<li><span class="math">\(\rho_i\)</span> Density of transportation infrastructure <span class="math">\([km * km^{-2}]\)</span>.</li>
<li><span class="math">\(h\)</span> utilization intensity of infrastructure <span class="math">\([\text{veh-}km * km^{-2}]\)</span>.</li>
<li><span class="math">\(\varepsilon\)</span> Fuel efficiency <span class="math">\([J*\text{veh-}km^{-1}]\)</span>.</li>
</ul>
</div></blockquote>
<p>The sum of the first four terms within the summation is equivalent to the vehicle-kilometers traveled (VKT) city indicator.</p>
<p>Energy surface balance (not implemented):</p>
<div class="math">
\[I_{E,S} + I_{E,F} + I_{E,I} = O_{E,L} + O_{E,G} + O_{E,E}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(I_{E,S}\)</span> Rate of arrival of radiant energy from the sun.</li>
<li><span class="math">\(I_{E,F}\)</span> Rate of generation of heat due to combustion and dissipation in machinery.</li>
<li><span class="math">\(I_{E,I}\)</span> Rate of heat arrival from the earth’s interior.</li>
<li><span class="math">\(O_{E,L}\)</span> Rate of loss of heat by evapotranspiration.</li>
<li><span class="math">\(O_{E,G}\)</span> Rate of loss of heat by conduction to soil, buildings, roads, etc.</li>
<li><span class="math">\(O_{E,E}\)</span> Rate of loss of heat by radiation.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="energy.EnergyStock">
<em class="property">class </em><code class="descclassname">energy.</code><code class="descname">EnergyStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#energy.EnergyStock" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy Stock.</p>
<p>This class defines the existing energy stock by sector.</p>
<p>All energy streams are aggregated by sector.</p>
<p>A data-set will the detail energy stream is generated as a <cite>csv</cite> file and
stored under the <cite>/results</cite> folder.</p>
<p>The Energy Stock is computed as follows:</p>
<dl class="method">
<dt id="energy.EnergyStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#energy.EnergyStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy Stock class initiator.</p>
<ul class="simple">
<li>Require input: <cite>city</cite></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="food">
<h2>Food<a class="headerlink" href="#food" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="_images/classes_foodModel.png"><img alt="_images/classes_foodModel.png" src="_images/classes_foodModel.png" style="width: 301.0px; height: 274.5px;" /></a>
<p class="caption"><span class="caption-text">Food class diagram.</span></p>
</div>
<dl class="class">
<dt id="food.FoodFlow">
<em class="property">class </em><code class="descclassname">food.</code><code class="descname">FoodFlow</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#food.FoodFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Food Flow class.</p>
<div class="math">
\[I_F + P_F + I_{W,Kit} = O_{F,RetFW} + O_{F,ResFW} + O_{F,Met} + O_{F,S}\]</div>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(I_F\)</span> mass of food and packaged drinks imported to the city.</li>
<li><span class="math">\(P_F\)</span> mass of food and packaged drinks produced in the city, for internal consumption.</li>
<li><span class="math">\(I_{W,Kit}\)</span> mass of kitchen water used during food preparation or drunk during meals.</li>
<li><span class="math">\(O_{F,RetFW}\)</span> mass of retail food waste produced by grocery stores and restaurants.</li>
<li><span class="math">\(O_{F,ResFW}\)</span> mass of residential food waste going to landfill, compost, or organic waste collection.</li>
<li><span class="math">\(O_{F,Met}\)</span> mass of carbon and water lost via respiration and transpiration in residents metabolism.</li>
<li><span class="math">\(O_{F,S}\)</span> mass of feces and urine exported to sewerage system.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="food.FoodStock">
<em class="property">class </em><code class="descclassname">food.</code><code class="descname">FoodStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#food.FoodStock" title="Permalink to this definition">¶</a></dt>
<dd><p>Food Stock.</p>
<dl class="method">
<dt id="food.FoodStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#food.FoodStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Food Stock class initiator.</p>
<ul class="simple">
<li>Require input: <cite>city</cite></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="waste">
<h2>Waste<a class="headerlink" href="#waste" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id6">
<a class="reference internal image-reference" href="_images/classes_wasteModel.png"><img alt="_images/classes_wasteModel.png" src="_images/classes_wasteModel.png" style="width: 310.5px; height: 274.5px;" /></a>
<p class="caption"><span class="caption-text">Waste class diagram.</span></p>
</div>
<dl class="class">
<dt id="waste.WasteFlow">
<em class="property">class </em><code class="descclassname">waste.</code><code class="descname">WasteFlow</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#waste.WasteFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Waste Flow class.</p>
</dd></dl>

<dl class="class">
<dt id="waste.WasteStock">
<em class="property">class </em><code class="descclassname">waste.</code><code class="descname">WasteStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#waste.WasteStock" title="Permalink to this definition">¶</a></dt>
<dd><p>Waste Stock.</p>
<dl class="method">
<dt id="waste.WasteStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#waste.WasteStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Waste Stock class initiator.</p>
<ul class="simple">
<li>Require input: <cite>city</cite></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="land">
<h2>Land<a class="headerlink" href="#land" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id7">
<a class="reference internal image-reference" href="_images/classes_landModel.png"><img alt="_images/classes_landModel.png" src="_images/classes_landModel.png" style="width: 297.0px; height: 274.5px;" /></a>
<p class="caption"><span class="caption-text">Land class diagram.</span></p>
</div>
<dl class="class">
<dt id="land.LandFlow">
<em class="property">class </em><code class="descclassname">land.</code><code class="descname">LandFlow</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#land.LandFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>land Flow class.</p>
</dd></dl>

<dl class="class">
<dt id="land.LandStock">
<em class="property">class </em><code class="descclassname">land.</code><code class="descname">LandStock</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#land.LandStock" title="Permalink to this definition">¶</a></dt>
<dd><p>Land Stock.</p>
<dl class="method">
<dt id="land.LandStock.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>city</em><span class="sig-paren">)</span><a class="headerlink" href="#land.LandStock.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Land Stock class initiator.</p>
<ul class="simple">
<li>Require input: <cite>city</cite></li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2-sm.html" class="btn btn-neutral float-right" title="Bottom-Up: Synthetic Populations (Spatial Microsimulation)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="0-intro.html" class="btn btn-neutral" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 M. Esteban Munoz H..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>